# Axeptio Android SDK - Version 2.1.0 Release Notes

**Release Date:** November 27, 2025
**Package:** `io.axept.android:android-sdk:2.1.0`

---

## Overview

Version 2.1.0 introduces new configuration options for consent management, improved TCF compliance, and enhanced testing capabilities for widget development.

---

## What's New

### Configurable Consent Expiration
Control how long user consent decisions are stored with the new `cookiesDurationDays` parameter.

**Use Case:** Set custom expiration periods for consent data based on your privacy requirements.

```kotlin
Axeptio.initialize(
    context = this,
    clientId = "your-client-id",
    cookiesVersion = "your-version",
    cookiesDurationDays = 365  // New parameter
)
```

### Widget Testing Modes
Easily test different widget versions during development with new environment selection.

**Available Modes:**
- `PRODUCTION` - Live production widget (default)
- `STAGING` - Test staging environment
- `PR` - Test specific pull request versions

```kotlin
Axeptio.initialize(
    context = this,
    clientId = "your-client-id",
    cookiesVersion = "your-version",
    widgetType = WidgetType.STAGING,  // New parameter
    prId = "123"  // Optional: for PR testing
)
```

### Session-Only Consent Support
Configure consent banners to reappear after each session with storage scope support.

**Use Case:** Ideal for scenarios requiring consent renewal per session rather than persistent storage.

### Enhanced TCF Compliance
Improved parsing and handling of TCF vendor consent strings for better IAB TCF 2.2 compliance.

---

## Improvements

### Build & Testing
- Fixed unit test compatibility with release builds
- All 72 unit tests now pass on both debug and release configurations
- Improved build configuration following Android library best practices

### Code Quality
- Removed deprecated Maestro UI testing infrastructure
- Cleaner build configuration
- Updated ProGuard consumer rules for better app integration

---

## Dependency Updates

- Added: `com.iabtcf:iabtcf-decoder:2.0.10` for TCF string decoding

---

## Migration Guide

### Updating from 2.0.x

No breaking changes - all new parameters are optional. Your existing implementation will continue to work without modifications.

#### Optional: Add New Features

If you want to use the new features:

```kotlin
// Before (still works)
Axeptio.initialize(
    context = this,
    clientId = "your-client-id",
    cookiesVersion = "your-version"
)

// After (with new optional parameters)
Axeptio.initialize(
    context = this,
    clientId = "your-client-id",
    cookiesVersion = "your-version",
    cookiesDurationDays = 365,  // Optional
    widgetType = WidgetType.PRODUCTION,  // Optional
    prId = null  // Optional
)
```

---

## Installation

### Gradle (Kotlin DSL)

Update your `build.gradle.kts`:

```kotlin
dependencies {
    implementation("io.axept.android:android-sdk:2.1.0")
}
```

### GitHub Packages Authentication

Ensure your `settings.gradle.kts` includes GitHub Maven credentials:

```kotlin
repositories {
    maven {
        url = uri("https://maven.pkg.github.com/axeptio/axeptio-android-sdk")
        credentials {
            username = "YOUR_GITHUB_USERNAME"
            password = "YOUR_GITHUB_TOKEN"
        }
    }
}
```

---

## Requirements

- **Minimum SDK:** Android 8.0 (API level 26)
- **Target SDK:** Android 14+ (API level 35)
- **Kotlin:** 2.1.0+
- **Java:** 8+

---

## Technical Details

### Related Linear Issues
- **MSK-119:** Configurable consent expiration
- **MSK-79:** Widget type selection and PR testing support
- **MSK-95:** TCF vendor consent parsing improvements
- **MSK-101:** Storage scope for session-only consents

### Full Changelog

See [CHANGELOG.md](https://github.com/axeptio/axeptio-android-sdk-sources/blob/master/CHANGELOG.md) for detailed technical changes.

---

## Testing

All features have been thoroughly tested:
- ✅ 72/72 unit tests passing
- ✅ Debug build tested
- ✅ Release build tested
- ✅ TCF compliance validated
- ✅ Backward compatibility verified

---

## Support

For issues, questions, or feature requests:
- **GitHub Issues:** https://github.com/axeptio/axeptio-android-sdk-sources/issues
- **Documentation:** https://github.com/axeptio/sample-app-android
- **Source Code:** https://github.com/axeptio/axeptio-android-sdk-sources

---

## Acknowledgments

This release includes contributions focused on improving developer experience and regulatory compliance.

---

**Previous Version:** 2.0.9
**GitHub Release:** https://github.com/axeptio/axeptio-android-sdk-sources/releases/tag/2.1.0
